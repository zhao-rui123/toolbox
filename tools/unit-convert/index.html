<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å•ä½æ¢ç®— - å·¥å…·ç®±</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      min-height: 100vh;
      color: #fff;
      padding: 20px;
    }
    .container { max-width: 800px; margin: 0 auto; }
    .back-btn { display: inline-flex; align-items: center; gap: 8px; color: #888; text-decoration: none; margin-bottom: 20px; }
    .back-btn:hover { color: #fff; }
    h1 { font-size: 1.8rem; margin-bottom: 20px; }
    .tabs {
      display: flex; gap: 10px; margin-bottom: 20px;
      flex-wrap: wrap;
    }
    .tab {
      padding: 10px 20px;
      background: rgba(255,255,255,0.05);
      border: none;
      border-radius: 8px;
      color: #888;
      cursor: pointer;
      transition: all 0.3s;
    }
    .tab.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #fff;
    }
    .panel {
      background: rgba(255,255,255,0.05);
      border-radius: 16px;
      padding: 30px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
    }
    .convert-row {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    .convert-row input {
      flex: 1;
      min-width: 120px;
      padding: 12px 16px;
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 8px;
      background: rgba(0,0,0,0.3);
      color: #fff;
      font-size: 1rem;
    }
    .convert-row select {
      padding: 12px 16px;
      border: 1px solid rgba(255,255,255,0.2);
      border-radius: 8px;
      background: rgba(0,0,0,0.3);
      color: #fff;
      font-size: 1rem;
      min-width: 120px;
    }
    .convert-row span {
      color: #888;
      font-size: 1.2rem;
    }
    .result-box {
      background: rgba(0,0,0,0.3);
      padding: 20px;
      border-radius: 8px;
      text-align: center;
      margin-top: 20px;
    }
    .result-value {
      font-size: 2rem;
      font-weight: bold;
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
  </style>
</head>
<body>
  <div class="container">
    <a href="../../index.html" class="back-btn">â† è¿”å›å·¥å…·ç®±</a>
    <h1>ğŸ“ å•ä½æ¢ç®—</h1>
    
    <div class="tabs">
      <button class="tab active" onclick="switchTab('length')">é•¿åº¦</button>
      <button class="tab" onclick="switchTab('weight')">é‡é‡</button>
      <button class="tab" onclick="switchTab('temp')">æ¸©åº¦</button>
      <button class="tab" onclick="switchTab('data')">æ•°æ®</button>
      <button class="tab" onclick="switchTab('area')">é¢ç§¯</button>
    </div>
    
    <div class="panel">
      <div class="convert-row">
        <input type="number" id="inputValue" value="1" oninput="convert()">
        <select id="fromUnit" onchange="convert()"></select>
        <span>=</span>
        <select id="toUnit" onchange="convert()"></select>
      </div>
      
      <div class="result-box">
        <div class="result-value" id="result">1 ç±³ = 100 å˜ç±³</div>
      </div>
    </div>
  </div>

  <script>
    const units = {
      length: {
        m: { name: 'ç±³', factor: 1 },
        km: { name: 'åƒç±³', factor: 1000 },
        cm: { name: 'å˜ç±³', factor: 0.01 },
        mm: { name: 'æ¯«ç±³', factor: 0.001 },
        ft: { name: 'è‹±å°º', factor: 0.3048 },
        in: { name: 'è‹±å¯¸', factor: 0.0254 },
        mi: { name: 'è‹±é‡Œ', factor: 1609.34 }
      },
      weight: {
        kg: { name: 'åƒå…‹', factor: 1 },
        g: { name: 'å…‹', factor: 0.001 },
        mg: { name: 'æ¯«å…‹', factor: 0.000001 },
        t: { name: 'å¨', factor: 1000 },
        lb: { name: 'ç£…', factor: 0.453592 },
        oz: { name: 'ç›å¸', factor: 0.0283495 }
      },
      temp: {
        c: { name: 'æ‘„æ°åº¦' },
        f: { name: 'åæ°åº¦' },
        k: { name: 'å¼€å°”æ–‡' }
      },
      data: {
        b: { name: 'B', factor: 1 },
        kb: { name: 'KB', factor: 1024 },
        mb: { name: 'MB', factor: 1048576 },
        gb: { name: 'GB', factor: 1073741824 },
        tb: { name: 'TB', factor: 1099511627776 }
      },
      area: {
        m2: { name: 'å¹³æ–¹ç±³', factor: 1 },
        km2: { name: 'å¹³æ–¹åƒç±³', factor: 1000000 },
        cm2: { name: 'å¹³æ–¹å˜ç±³', factor: 0.0001 },
        ha: { name: 'å…¬é¡·', factor: 10000 },
        mu: { name: 'äº©', factor: 666.667 }
      }
    };
    
    let currentTab = 'length';
    
    function switchTab(tab) {
      currentTab = tab;
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      event.target.classList.add('active');
      populateUnits();
      convert();
    }
    
    function populateUnits() {
      const fromSelect = document.getElementById('fromUnit');
      const toSelect = document.getElementById('toUnit');
      const unitData = units[currentTab];
      
      fromSelect.innerHTML = Object.entries(unitData).map(([key, u]) => 
        `<option value="${key}">${u.name}</option>`
      ).join('');
      
      toSelect.innerHTML = Object.entries(unitData).map(([key, u]) => 
        `<option value="${key}">${u.name}</option>`
      ).join('');
      
      // é»˜è®¤é€‰æ‹©ä¸åŒçš„å•ä½
      const keys = Object.keys(unitData);
      if (keys.length > 1) {
        toSelect.value = keys[1];
      }
    }
    
    function convert() {
      const value = parseFloat(document.getElementById('inputValue').value) || 0;
      const from = document.getElementById('fromUnit').value;
      const to = document.getElementById('toUnit').value;
      const unitData = units[currentTab];
      
      let result;
      
      if (currentTab === 'temp') {
        result = convertTemp(value, from, to);
      } else {
        const baseValue = value * unitData[from].factor;
        result = baseValue / unitData[to].factor;
      }
      
      // æ ¼å¼åŒ–ç»“æœ
      let displayResult;
      if (result < 0.0001 || result > 1000000) {
        displayResult = result.toExponential(4);
      } else {
        displayResult = parseFloat(result.toFixed(6));
      }
      
      document.getElementById('result').textContent = 
        `${value} ${unitData[from].name} = ${displayResult} ${unitData[to].name}`;
    }
    
    function convertTemp(value, from, to) {
      if (from === to) return value;
      
      // å…ˆè½¬ä¸ºæ‘„æ°åº¦
      let celsius;
      if (from === 'c') celsius = value;
      else if (from === 'f') celsius = (value - 32) * 5/9;
      else if (from === 'k') celsius = value - 273.15;
      
      // å†è½¬ä¸ºç›®æ ‡å•ä½
      if (to === 'c') return celsius;
      if (to === 'f') return celsius * 9/5 + 32;
      if (to === 'k') return celsius + 273.15;
    }
    
    // åˆå§‹åŒ–
    populateUnits();
    convert();
  </script>
</body>
</html>
